(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))Y(L);new MutationObserver(L=>{for(const Z of L)if(Z.type==="childList")for(const nn of Z.addedNodes)nn.tagName==="LINK"&&nn.rel==="modulepreload"&&Y(nn)}).observe(document,{childList:!0,subtree:!0});function $(L){const Z={};return L.integrity&&(Z.integrity=L.integrity),L.referrerPolicy&&(Z.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?Z.credentials="include":L.crossOrigin==="anonymous"?Z.credentials="omit":Z.credentials="same-origin",Z}function Y(L){if(L.ep)return;L.ep=!0;const Z=$(L);fetch(L.href,Z)}})();function gt(h,A){return class extends h{constructor(...$){super(...$),A(this)}}}const zt=gt(Array,h=>h.fill(0));let T=1e-6;function At(h){function A(d=0,M=0){const p=new h(2);return d!==void 0&&(p[0]=d,M!==void 0&&(p[1]=M)),p}const $=A;function Y(d,M,p){const n=p??new h(2);return n[0]=d,n[1]=M,n}function L(d,M){const p=M??new h(2);return p[0]=Math.ceil(d[0]),p[1]=Math.ceil(d[1]),p}function Z(d,M){const p=M??new h(2);return p[0]=Math.floor(d[0]),p[1]=Math.floor(d[1]),p}function nn(d,M){const p=M??new h(2);return p[0]=Math.round(d[0]),p[1]=Math.round(d[1]),p}function Tn(d,M=0,p=1,n){const i=n??new h(2);return i[0]=Math.min(p,Math.max(M,d[0])),i[1]=Math.min(p,Math.max(M,d[1])),i}function fn(d,M,p){const n=p??new h(2);return n[0]=d[0]+M[0],n[1]=d[1]+M[1],n}function Un(d,M,p,n){const i=n??new h(2);return i[0]=d[0]+M[0]*p,i[1]=d[1]+M[1]*p,i}function an(d,M){const p=d[0],n=d[1],i=M[0],s=M[1],o=Math.sqrt(p*p+n*n),e=Math.sqrt(i*i+s*s),r=o*e,l=r&&gn(d,M)/r;return Math.acos(l)}function tn(d,M,p){const n=p??new h(2);return n[0]=d[0]-M[0],n[1]=d[1]-M[1],n}const Ln=tn;function wn(d,M){return Math.abs(d[0]-M[0])<T&&Math.abs(d[1]-M[1])<T}function pn(d,M){return d[0]===M[0]&&d[1]===M[1]}function ln(d,M,p,n){const i=n??new h(2);return i[0]=d[0]+p*(M[0]-d[0]),i[1]=d[1]+p*(M[1]-d[1]),i}function Sn(d,M,p,n){const i=n??new h(2);return i[0]=d[0]+p[0]*(M[0]-d[0]),i[1]=d[1]+p[1]*(M[1]-d[1]),i}function Pn(d,M,p){const n=p??new h(2);return n[0]=Math.max(d[0],M[0]),n[1]=Math.max(d[1],M[1]),n}function hn(d,M,p){const n=p??new h(2);return n[0]=Math.min(d[0],M[0]),n[1]=Math.min(d[1],M[1]),n}function _(d,M,p){const n=p??new h(2);return n[0]=d[0]*M,n[1]=d[1]*M,n}const Vn=_;function Dn(d,M,p){const n=p??new h(2);return n[0]=d[0]/M,n[1]=d[1]/M,n}function yn(d,M){const p=M??new h(2);return p[0]=1/d[0],p[1]=1/d[1],p}const On=yn;function xn(d,M,p){const n=p??new h(3),i=d[0]*M[1]-d[1]*M[0];return n[0]=0,n[1]=0,n[2]=i,n}function gn(d,M){return d[0]*M[0]+d[1]*M[1]}function Q(d){const M=d[0],p=d[1];return Math.sqrt(M*M+p*p)}const Bn=Q;function en(d){const M=d[0],p=d[1];return M*M+p*p}const Fn=en;function R(d,M){const p=d[0]-M[0],n=d[1]-M[1];return Math.sqrt(p*p+n*n)}const B=R;function F(d,M){const p=d[0]-M[0],n=d[1]-M[1];return p*p+n*n}const U=F;function sn(d,M){const p=M??new h(2),n=d[0],i=d[1],s=Math.sqrt(n*n+i*i);return s>1e-5?(p[0]=n/s,p[1]=i/s):(p[0]=0,p[1]=0),p}function Gn(d,M){const p=M??new h(2);return p[0]=-d[0],p[1]=-d[1],p}function X(d,M){const p=M??new h(2);return p[0]=d[0],p[1]=d[1],p}const Zn=X;function dn(d,M,p){const n=p??new h(2);return n[0]=d[0]*M[0],n[1]=d[1]*M[1],n}const jn=dn;function Mn(d,M,p){const n=p??new h(2);return n[0]=d[0]/M[0],n[1]=d[1]/M[1],n}const In=Mn;function En(d=1,M){const p=M??new h(2),n=Math.random()*2*Math.PI;return p[0]=Math.cos(n)*d,p[1]=Math.sin(n)*d,p}function D(d){const M=d??new h(2);return M[0]=0,M[1]=0,M}function z(d,M,p){const n=p??new h(2),i=d[0],s=d[1];return n[0]=i*M[0]+s*M[4]+M[12],n[1]=i*M[1]+s*M[5]+M[13],n}function w(d,M,p){const n=p??new h(2),i=d[0],s=d[1];return n[0]=M[0]*i+M[4]*s+M[8],n[1]=M[1]*i+M[5]*s+M[9],n}function t(d,M,p,n){const i=n??new h(2),s=d[0]-M[0],o=d[1]-M[1],e=Math.sin(p),r=Math.cos(p);return i[0]=s*r-o*e+M[0],i[1]=s*e+o*r+M[1],i}function u(d,M,p){const n=p??new h(2);return sn(d,n),_(n,M,n)}function c(d,M,p){const n=p??new h(2);return Q(d)>M?u(d,M,n):X(d,n)}function f(d,M,p){const n=p??new h(2);return ln(d,M,.5,n)}return{create:A,fromValues:$,set:Y,ceil:L,floor:Z,round:nn,clamp:Tn,add:fn,addScaled:Un,angle:an,subtract:tn,sub:Ln,equalsApproximately:wn,equals:pn,lerp:ln,lerpV:Sn,max:Pn,min:hn,mulScalar:_,scale:Vn,divScalar:Dn,inverse:yn,invert:On,cross:xn,dot:gn,length:Q,len:Bn,lengthSq:en,lenSq:Fn,distance:R,dist:B,distanceSq:F,distSq:U,normalize:sn,negate:Gn,copy:X,clone:Zn,multiply:dn,mul:jn,divide:Mn,div:In,random:En,zero:D,transformMat4:z,transformMat3:w,rotate:t,setLength:u,truncate:c,midpoint:f}}const et=new Map;function wt(h){let A=et.get(h);return A||(A=At(h),et.set(h,A)),A}function qt(h){function A(e,r,l){const a=new h(3);return e!==void 0&&(a[0]=e,r!==void 0&&(a[1]=r,l!==void 0&&(a[2]=l))),a}const $=A;function Y(e,r,l,a){const y=a??new h(3);return y[0]=e,y[1]=r,y[2]=l,y}function L(e,r){const l=r??new h(3);return l[0]=Math.ceil(e[0]),l[1]=Math.ceil(e[1]),l[2]=Math.ceil(e[2]),l}function Z(e,r){const l=r??new h(3);return l[0]=Math.floor(e[0]),l[1]=Math.floor(e[1]),l[2]=Math.floor(e[2]),l}function nn(e,r){const l=r??new h(3);return l[0]=Math.round(e[0]),l[1]=Math.round(e[1]),l[2]=Math.round(e[2]),l}function Tn(e,r=0,l=1,a){const y=a??new h(3);return y[0]=Math.min(l,Math.max(r,e[0])),y[1]=Math.min(l,Math.max(r,e[1])),y[2]=Math.min(l,Math.max(r,e[2])),y}function fn(e,r,l){const a=l??new h(3);return a[0]=e[0]+r[0],a[1]=e[1]+r[1],a[2]=e[2]+r[2],a}function Un(e,r,l,a){const y=a??new h(3);return y[0]=e[0]+r[0]*l,y[1]=e[1]+r[1]*l,y[2]=e[2]+r[2]*l,y}function an(e,r){const l=e[0],a=e[1],y=e[2],x=r[0],g=r[1],P=r[2],q=Math.sqrt(l*l+a*a+y*y),S=Math.sqrt(x*x+g*g+P*P),V=q*S,E=V&&gn(e,r)/V;return Math.acos(E)}function tn(e,r,l){const a=l??new h(3);return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],a}const Ln=tn;function wn(e,r){return Math.abs(e[0]-r[0])<T&&Math.abs(e[1]-r[1])<T&&Math.abs(e[2]-r[2])<T}function pn(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}function ln(e,r,l,a){const y=a??new h(3);return y[0]=e[0]+l*(r[0]-e[0]),y[1]=e[1]+l*(r[1]-e[1]),y[2]=e[2]+l*(r[2]-e[2]),y}function Sn(e,r,l,a){const y=a??new h(3);return y[0]=e[0]+l[0]*(r[0]-e[0]),y[1]=e[1]+l[1]*(r[1]-e[1]),y[2]=e[2]+l[2]*(r[2]-e[2]),y}function Pn(e,r,l){const a=l??new h(3);return a[0]=Math.max(e[0],r[0]),a[1]=Math.max(e[1],r[1]),a[2]=Math.max(e[2],r[2]),a}function hn(e,r,l){const a=l??new h(3);return a[0]=Math.min(e[0],r[0]),a[1]=Math.min(e[1],r[1]),a[2]=Math.min(e[2],r[2]),a}function _(e,r,l){const a=l??new h(3);return a[0]=e[0]*r,a[1]=e[1]*r,a[2]=e[2]*r,a}const Vn=_;function Dn(e,r,l){const a=l??new h(3);return a[0]=e[0]/r,a[1]=e[1]/r,a[2]=e[2]/r,a}function yn(e,r){const l=r??new h(3);return l[0]=1/e[0],l[1]=1/e[1],l[2]=1/e[2],l}const On=yn;function xn(e,r,l){const a=l??new h(3),y=e[2]*r[0]-e[0]*r[2],x=e[0]*r[1]-e[1]*r[0];return a[0]=e[1]*r[2]-e[2]*r[1],a[1]=y,a[2]=x,a}function gn(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function Q(e){const r=e[0],l=e[1],a=e[2];return Math.sqrt(r*r+l*l+a*a)}const Bn=Q;function en(e){const r=e[0],l=e[1],a=e[2];return r*r+l*l+a*a}const Fn=en;function R(e,r){const l=e[0]-r[0],a=e[1]-r[1],y=e[2]-r[2];return Math.sqrt(l*l+a*a+y*y)}const B=R;function F(e,r){const l=e[0]-r[0],a=e[1]-r[1],y=e[2]-r[2];return l*l+a*a+y*y}const U=F;function sn(e,r){const l=r??new h(3),a=e[0],y=e[1],x=e[2],g=Math.sqrt(a*a+y*y+x*x);return g>1e-5?(l[0]=a/g,l[1]=y/g,l[2]=x/g):(l[0]=0,l[1]=0,l[2]=0),l}function Gn(e,r){const l=r??new h(3);return l[0]=-e[0],l[1]=-e[1],l[2]=-e[2],l}function X(e,r){const l=r??new h(3);return l[0]=e[0],l[1]=e[1],l[2]=e[2],l}const Zn=X;function dn(e,r,l){const a=l??new h(3);return a[0]=e[0]*r[0],a[1]=e[1]*r[1],a[2]=e[2]*r[2],a}const jn=dn;function Mn(e,r,l){const a=l??new h(3);return a[0]=e[0]/r[0],a[1]=e[1]/r[1],a[2]=e[2]/r[2],a}const In=Mn;function En(e=1,r){const l=r??new h(3),a=Math.random()*2*Math.PI,y=Math.random()*2-1,x=Math.sqrt(1-y*y)*e;return l[0]=Math.cos(a)*x,l[1]=Math.sin(a)*x,l[2]=y*e,l}function D(e){const r=e??new h(3);return r[0]=0,r[1]=0,r[2]=0,r}function z(e,r,l){const a=l??new h(3),y=e[0],x=e[1],g=e[2],P=r[3]*y+r[7]*x+r[11]*g+r[15]||1;return a[0]=(r[0]*y+r[4]*x+r[8]*g+r[12])/P,a[1]=(r[1]*y+r[5]*x+r[9]*g+r[13])/P,a[2]=(r[2]*y+r[6]*x+r[10]*g+r[14])/P,a}function w(e,r,l){const a=l??new h(3),y=e[0],x=e[1],g=e[2];return a[0]=y*r[0*4+0]+x*r[1*4+0]+g*r[2*4+0],a[1]=y*r[0*4+1]+x*r[1*4+1]+g*r[2*4+1],a[2]=y*r[0*4+2]+x*r[1*4+2]+g*r[2*4+2],a}function t(e,r,l){const a=l??new h(3),y=e[0],x=e[1],g=e[2];return a[0]=y*r[0]+x*r[4]+g*r[8],a[1]=y*r[1]+x*r[5]+g*r[9],a[2]=y*r[2]+x*r[6]+g*r[10],a}function u(e,r,l){const a=l??new h(3),y=r[0],x=r[1],g=r[2],P=r[3]*2,q=e[0],S=e[1],V=e[2],E=x*V-g*S,O=g*q-y*V,I=y*S-x*q;return a[0]=q+E*P+(x*I-g*O)*2,a[1]=S+O*P+(g*E-y*I)*2,a[2]=V+I*P+(y*O-x*E)*2,a}function c(e,r){const l=r??new h(3);return l[0]=e[12],l[1]=e[13],l[2]=e[14],l}function f(e,r,l){const a=l??new h(3),y=r*4;return a[0]=e[y+0],a[1]=e[y+1],a[2]=e[y+2],a}function d(e,r){const l=r??new h(3),a=e[0],y=e[1],x=e[2],g=e[4],P=e[5],q=e[6],S=e[8],V=e[9],E=e[10];return l[0]=Math.sqrt(a*a+y*y+x*x),l[1]=Math.sqrt(g*g+P*P+q*q),l[2]=Math.sqrt(S*S+V*V+E*E),l}function M(e,r,l,a){const y=a??new h(3),x=[],g=[];return x[0]=e[0]-r[0],x[1]=e[1]-r[1],x[2]=e[2]-r[2],g[0]=x[0],g[1]=x[1]*Math.cos(l)-x[2]*Math.sin(l),g[2]=x[1]*Math.sin(l)+x[2]*Math.cos(l),y[0]=g[0]+r[0],y[1]=g[1]+r[1],y[2]=g[2]+r[2],y}function p(e,r,l,a){const y=a??new h(3),x=[],g=[];return x[0]=e[0]-r[0],x[1]=e[1]-r[1],x[2]=e[2]-r[2],g[0]=x[2]*Math.sin(l)+x[0]*Math.cos(l),g[1]=x[1],g[2]=x[2]*Math.cos(l)-x[0]*Math.sin(l),y[0]=g[0]+r[0],y[1]=g[1]+r[1],y[2]=g[2]+r[2],y}function n(e,r,l,a){const y=a??new h(3),x=[],g=[];return x[0]=e[0]-r[0],x[1]=e[1]-r[1],x[2]=e[2]-r[2],g[0]=x[0]*Math.cos(l)-x[1]*Math.sin(l),g[1]=x[0]*Math.sin(l)+x[1]*Math.cos(l),g[2]=x[2],y[0]=g[0]+r[0],y[1]=g[1]+r[1],y[2]=g[2]+r[2],y}function i(e,r,l){const a=l??new h(3);return sn(e,a),_(a,r,a)}function s(e,r,l){const a=l??new h(3);return Q(e)>r?i(e,r,a):X(e,a)}function o(e,r,l){const a=l??new h(3);return ln(e,r,.5,a)}return{create:A,fromValues:$,set:Y,ceil:L,floor:Z,round:nn,clamp:Tn,add:fn,addScaled:Un,angle:an,subtract:tn,sub:Ln,equalsApproximately:wn,equals:pn,lerp:ln,lerpV:Sn,max:Pn,min:hn,mulScalar:_,scale:Vn,divScalar:Dn,inverse:yn,invert:On,cross:xn,dot:gn,length:Q,len:Bn,lengthSq:en,lenSq:Fn,distance:R,dist:B,distanceSq:F,distSq:U,normalize:sn,negate:Gn,copy:X,clone:Zn,multiply:dn,mul:jn,divide:Mn,div:In,random:En,zero:D,transformMat4:z,transformMat4Upper3x3:w,transformMat3:t,transformQuat:u,getTranslation:c,getAxis:f,getScaling:d,rotateX:M,rotateY:p,rotateZ:n,setLength:i,truncate:s,midpoint:o}}const st=new Map;function vn(h){let A=st.get(h);return A||(A=qt(h),st.set(h,A)),A}function St(h){const A=wt(h),$=vn(h);function Y(t,u,c,f,d,M,p,n,i){const s=new h(12);return s[3]=0,s[7]=0,s[11]=0,t!==void 0&&(s[0]=t,u!==void 0&&(s[1]=u,c!==void 0&&(s[2]=c,f!==void 0&&(s[4]=f,d!==void 0&&(s[5]=d,M!==void 0&&(s[6]=M,p!==void 0&&(s[8]=p,n!==void 0&&(s[9]=n,i!==void 0&&(s[10]=i))))))))),s}function L(t,u,c,f,d,M,p,n,i,s){const o=s??new h(12);return o[0]=t,o[1]=u,o[2]=c,o[3]=0,o[4]=f,o[5]=d,o[6]=M,o[7]=0,o[8]=p,o[9]=n,o[10]=i,o[11]=0,o}function Z(t,u){const c=u??new h(12);return c[0]=t[0],c[1]=t[1],c[2]=t[2],c[3]=0,c[4]=t[4],c[5]=t[5],c[6]=t[6],c[7]=0,c[8]=t[8],c[9]=t[9],c[10]=t[10],c[11]=0,c}function nn(t,u){const c=u??new h(12),f=t[0],d=t[1],M=t[2],p=t[3],n=f+f,i=d+d,s=M+M,o=f*n,e=d*n,r=d*i,l=M*n,a=M*i,y=M*s,x=p*n,g=p*i,P=p*s;return c[0]=1-r-y,c[1]=e+P,c[2]=l-g,c[3]=0,c[4]=e-P,c[5]=1-o-y,c[6]=a+x,c[7]=0,c[8]=l+g,c[9]=a-x,c[10]=1-o-r,c[11]=0,c}function Tn(t,u){const c=u??new h(12);return c[0]=-t[0],c[1]=-t[1],c[2]=-t[2],c[4]=-t[4],c[5]=-t[5],c[6]=-t[6],c[8]=-t[8],c[9]=-t[9],c[10]=-t[10],c}function fn(t,u,c){const f=c??new h(12);return f[0]=t[0]*u,f[1]=t[1]*u,f[2]=t[2]*u,f[4]=t[4]*u,f[5]=t[5]*u,f[6]=t[6]*u,f[8]=t[8]*u,f[9]=t[9]*u,f[10]=t[10]*u,f}const Un=fn;function an(t,u,c){const f=c??new h(12);return f[0]=t[0]+u[0],f[1]=t[1]+u[1],f[2]=t[2]+u[2],f[4]=t[4]+u[4],f[5]=t[5]+u[5],f[6]=t[6]+u[6],f[8]=t[8]+u[8],f[9]=t[9]+u[9],f[10]=t[10]+u[10],f}function tn(t,u){const c=u??new h(12);return c[0]=t[0],c[1]=t[1],c[2]=t[2],c[4]=t[4],c[5]=t[5],c[6]=t[6],c[8]=t[8],c[9]=t[9],c[10]=t[10],c}const Ln=tn;function wn(t,u){return Math.abs(t[0]-u[0])<T&&Math.abs(t[1]-u[1])<T&&Math.abs(t[2]-u[2])<T&&Math.abs(t[4]-u[4])<T&&Math.abs(t[5]-u[5])<T&&Math.abs(t[6]-u[6])<T&&Math.abs(t[8]-u[8])<T&&Math.abs(t[9]-u[9])<T&&Math.abs(t[10]-u[10])<T}function pn(t,u){return t[0]===u[0]&&t[1]===u[1]&&t[2]===u[2]&&t[4]===u[4]&&t[5]===u[5]&&t[6]===u[6]&&t[8]===u[8]&&t[9]===u[9]&&t[10]===u[10]}function ln(t){const u=t??new h(12);return u[0]=1,u[1]=0,u[2]=0,u[4]=0,u[5]=1,u[6]=0,u[8]=0,u[9]=0,u[10]=1,u}function Sn(t,u){const c=u??new h(12);if(c===t){let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,c}const f=t[0*4+0],d=t[0*4+1],M=t[0*4+2],p=t[1*4+0],n=t[1*4+1],i=t[1*4+2],s=t[2*4+0],o=t[2*4+1],e=t[2*4+2];return c[0]=f,c[1]=p,c[2]=s,c[4]=d,c[5]=n,c[6]=o,c[8]=M,c[9]=i,c[10]=e,c}function Pn(t,u){const c=u??new h(12),f=t[0*4+0],d=t[0*4+1],M=t[0*4+2],p=t[1*4+0],n=t[1*4+1],i=t[1*4+2],s=t[2*4+0],o=t[2*4+1],e=t[2*4+2],r=e*n-i*o,l=-e*p+i*s,a=o*p-n*s,y=1/(f*r+d*l+M*a);return c[0]=r*y,c[1]=(-e*d+M*o)*y,c[2]=(i*d-M*n)*y,c[4]=l*y,c[5]=(e*f-M*s)*y,c[6]=(-i*f+M*p)*y,c[8]=a*y,c[9]=(-o*f+d*s)*y,c[10]=(n*f-d*p)*y,c}function hn(t){const u=t[0],c=t[0*4+1],f=t[0*4+2],d=t[1*4+0],M=t[1*4+1],p=t[1*4+2],n=t[2*4+0],i=t[2*4+1],s=t[2*4+2];return u*(M*s-i*p)-d*(c*s-i*f)+n*(c*p-M*f)}const _=Pn;function Vn(t,u,c){const f=c??new h(12),d=t[0],M=t[1],p=t[2],n=t[4],i=t[5],s=t[6],o=t[8],e=t[9],r=t[10],l=u[0],a=u[1],y=u[2],x=u[4],g=u[5],P=u[6],q=u[8],S=u[9],V=u[10];return f[0]=d*l+n*a+o*y,f[1]=M*l+i*a+e*y,f[2]=p*l+s*a+r*y,f[4]=d*x+n*g+o*P,f[5]=M*x+i*g+e*P,f[6]=p*x+s*g+r*P,f[8]=d*q+n*S+o*V,f[9]=M*q+i*S+e*V,f[10]=p*q+s*S+r*V,f}const Dn=Vn;function yn(t,u,c){const f=c??ln();return t!==f&&(f[0]=t[0],f[1]=t[1],f[2]=t[2],f[4]=t[4],f[5]=t[5],f[6]=t[6]),f[8]=u[0],f[9]=u[1],f[10]=1,f}function On(t,u){const c=u??A.create();return c[0]=t[8],c[1]=t[9],c}function xn(t,u,c){const f=c??A.create(),d=u*4;return f[0]=t[d+0],f[1]=t[d+1],f}function gn(t,u,c,f){const d=f===t?t:tn(t,f),M=c*4;return d[M+0]=u[0],d[M+1]=u[1],d}function Q(t,u){const c=u??A.create(),f=t[0],d=t[1],M=t[4],p=t[5];return c[0]=Math.sqrt(f*f+d*d),c[1]=Math.sqrt(M*M+p*p),c}function Bn(t,u){const c=u??$.create(),f=t[0],d=t[1],M=t[2],p=t[4],n=t[5],i=t[6],s=t[8],o=t[9],e=t[10];return c[0]=Math.sqrt(f*f+d*d+M*M),c[1]=Math.sqrt(p*p+n*n+i*i),c[2]=Math.sqrt(s*s+o*o+e*e),c}function en(t,u){const c=u??new h(12);return c[0]=1,c[1]=0,c[2]=0,c[4]=0,c[5]=1,c[6]=0,c[8]=t[0],c[9]=t[1],c[10]=1,c}function Fn(t,u,c){const f=c??new h(12),d=u[0],M=u[1],p=t[0],n=t[1],i=t[2],s=t[1*4+0],o=t[1*4+1],e=t[1*4+2],r=t[2*4+0],l=t[2*4+1],a=t[2*4+2];return t!==f&&(f[0]=p,f[1]=n,f[2]=i,f[4]=s,f[5]=o,f[6]=e),f[8]=p*d+s*M+r,f[9]=n*d+o*M+l,f[10]=i*d+e*M+a,f}function R(t,u){const c=u??new h(12),f=Math.cos(t),d=Math.sin(t);return c[0]=f,c[1]=d,c[2]=0,c[4]=-d,c[5]=f,c[6]=0,c[8]=0,c[9]=0,c[10]=1,c}function B(t,u,c){const f=c??new h(12),d=t[0*4+0],M=t[0*4+1],p=t[0*4+2],n=t[1*4+0],i=t[1*4+1],s=t[1*4+2],o=Math.cos(u),e=Math.sin(u);return f[0]=o*d+e*n,f[1]=o*M+e*i,f[2]=o*p+e*s,f[4]=o*n-e*d,f[5]=o*i-e*M,f[6]=o*s-e*p,t!==f&&(f[8]=t[8],f[9]=t[9],f[10]=t[10]),f}function F(t,u){const c=u??new h(12),f=Math.cos(t),d=Math.sin(t);return c[0]=1,c[1]=0,c[2]=0,c[4]=0,c[5]=f,c[6]=d,c[8]=0,c[9]=-d,c[10]=f,c}function U(t,u,c){const f=c??new h(12),d=t[4],M=t[5],p=t[6],n=t[8],i=t[9],s=t[10],o=Math.cos(u),e=Math.sin(u);return f[4]=o*d+e*n,f[5]=o*M+e*i,f[6]=o*p+e*s,f[8]=o*n-e*d,f[9]=o*i-e*M,f[10]=o*s-e*p,t!==f&&(f[0]=t[0],f[1]=t[1],f[2]=t[2]),f}function sn(t,u){const c=u??new h(12),f=Math.cos(t),d=Math.sin(t);return c[0]=f,c[1]=0,c[2]=-d,c[4]=0,c[5]=1,c[6]=0,c[8]=d,c[9]=0,c[10]=f,c}function Gn(t,u,c){const f=c??new h(12),d=t[0*4+0],M=t[0*4+1],p=t[0*4+2],n=t[2*4+0],i=t[2*4+1],s=t[2*4+2],o=Math.cos(u),e=Math.sin(u);return f[0]=o*d-e*n,f[1]=o*M-e*i,f[2]=o*p-e*s,f[8]=o*n+e*d,f[9]=o*i+e*M,f[10]=o*s+e*p,t!==f&&(f[4]=t[4],f[5]=t[5],f[6]=t[6]),f}const X=R,Zn=B;function dn(t,u){const c=u??new h(12);return c[0]=t[0],c[1]=0,c[2]=0,c[4]=0,c[5]=t[1],c[6]=0,c[8]=0,c[9]=0,c[10]=1,c}function jn(t,u,c){const f=c??new h(12),d=u[0],M=u[1];return f[0]=d*t[0*4+0],f[1]=d*t[0*4+1],f[2]=d*t[0*4+2],f[4]=M*t[1*4+0],f[5]=M*t[1*4+1],f[6]=M*t[1*4+2],t!==f&&(f[8]=t[8],f[9]=t[9],f[10]=t[10]),f}function Mn(t,u){const c=u??new h(12);return c[0]=t[0],c[1]=0,c[2]=0,c[4]=0,c[5]=t[1],c[6]=0,c[8]=0,c[9]=0,c[10]=t[2],c}function In(t,u,c){const f=c??new h(12),d=u[0],M=u[1],p=u[2];return f[0]=d*t[0*4+0],f[1]=d*t[0*4+1],f[2]=d*t[0*4+2],f[4]=M*t[1*4+0],f[5]=M*t[1*4+1],f[6]=M*t[1*4+2],f[8]=p*t[2*4+0],f[9]=p*t[2*4+1],f[10]=p*t[2*4+2],f}function En(t,u){const c=u??new h(12);return c[0]=t,c[1]=0,c[2]=0,c[4]=0,c[5]=t,c[6]=0,c[8]=0,c[9]=0,c[10]=1,c}function D(t,u,c){const f=c??new h(12);return f[0]=u*t[0*4+0],f[1]=u*t[0*4+1],f[2]=u*t[0*4+2],f[4]=u*t[1*4+0],f[5]=u*t[1*4+1],f[6]=u*t[1*4+2],t!==f&&(f[8]=t[8],f[9]=t[9],f[10]=t[10]),f}function z(t,u){const c=u??new h(12);return c[0]=t,c[1]=0,c[2]=0,c[4]=0,c[5]=t,c[6]=0,c[8]=0,c[9]=0,c[10]=t,c}function w(t,u,c){const f=c??new h(12);return f[0]=u*t[0*4+0],f[1]=u*t[0*4+1],f[2]=u*t[0*4+2],f[4]=u*t[1*4+0],f[5]=u*t[1*4+1],f[6]=u*t[1*4+2],f[8]=u*t[2*4+0],f[9]=u*t[2*4+1],f[10]=u*t[2*4+2],f}return{add:an,clone:Ln,copy:tn,create:Y,determinant:hn,equals:pn,equalsApproximately:wn,fromMat4:Z,fromQuat:nn,get3DScaling:Bn,getAxis:xn,getScaling:Q,getTranslation:On,identity:ln,inverse:Pn,invert:_,mul:Dn,mulScalar:Un,multiply:Vn,multiplyScalar:fn,negate:Tn,rotate:B,rotateX:U,rotateY:Gn,rotateZ:Zn,rotation:R,rotationX:F,rotationY:sn,rotationZ:X,scale:jn,scale3D:In,scaling:dn,scaling3D:Mn,set:L,setAxis:gn,setTranslation:yn,translate:Fn,translation:en,transpose:Sn,uniformScale:D,uniformScale3D:w,uniformScaling:En,uniformScaling3D:z}}const ct=new Map;function Pt(h){let A=ct.get(h);return A||(A=St(h),ct.set(h,A)),A}function Vt(h){const A=vn(h);function $(n,i,s,o,e,r,l,a,y,x,g,P,q,S,V,E){const O=new h(16);return n!==void 0&&(O[0]=n,i!==void 0&&(O[1]=i,s!==void 0&&(O[2]=s,o!==void 0&&(O[3]=o,e!==void 0&&(O[4]=e,r!==void 0&&(O[5]=r,l!==void 0&&(O[6]=l,a!==void 0&&(O[7]=a,y!==void 0&&(O[8]=y,x!==void 0&&(O[9]=x,g!==void 0&&(O[10]=g,P!==void 0&&(O[11]=P,q!==void 0&&(O[12]=q,S!==void 0&&(O[13]=S,V!==void 0&&(O[14]=V,E!==void 0&&(O[15]=E)))))))))))))))),O}function Y(n,i,s,o,e,r,l,a,y,x,g,P,q,S,V,E,O){const I=O??new h(16);return I[0]=n,I[1]=i,I[2]=s,I[3]=o,I[4]=e,I[5]=r,I[6]=l,I[7]=a,I[8]=y,I[9]=x,I[10]=g,I[11]=P,I[12]=q,I[13]=S,I[14]=V,I[15]=E,I}function L(n,i){const s=i??new h(16);return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=0,s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=0,s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Z(n,i){const s=i??new h(16),o=n[0],e=n[1],r=n[2],l=n[3],a=o+o,y=e+e,x=r+r,g=o*a,P=e*a,q=e*y,S=r*a,V=r*y,E=r*x,O=l*a,I=l*y,j=l*x;return s[0]=1-q-E,s[1]=P+j,s[2]=S-I,s[3]=0,s[4]=P-j,s[5]=1-g-E,s[6]=V+O,s[7]=0,s[8]=S+I,s[9]=V-O,s[10]=1-g-q,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function nn(n,i){const s=i??new h(16);return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s[3]=-n[3],s[4]=-n[4],s[5]=-n[5],s[6]=-n[6],s[7]=-n[7],s[8]=-n[8],s[9]=-n[9],s[10]=-n[10],s[11]=-n[11],s[12]=-n[12],s[13]=-n[13],s[14]=-n[14],s[15]=-n[15],s}function Tn(n,i,s){const o=s??new h(16);return o[0]=n[0]+i[0],o[1]=n[1]+i[1],o[2]=n[2]+i[2],o[3]=n[3]+i[3],o[4]=n[4]+i[4],o[5]=n[5]+i[5],o[6]=n[6]+i[6],o[7]=n[7]+i[7],o[8]=n[8]+i[8],o[9]=n[9]+i[9],o[10]=n[10]+i[10],o[11]=n[11]+i[11],o[12]=n[12]+i[12],o[13]=n[13]+i[13],o[14]=n[14]+i[14],o[15]=n[15]+i[15],o}function fn(n,i,s){const o=s??new h(16);return o[0]=n[0]*i,o[1]=n[1]*i,o[2]=n[2]*i,o[3]=n[3]*i,o[4]=n[4]*i,o[5]=n[5]*i,o[6]=n[6]*i,o[7]=n[7]*i,o[8]=n[8]*i,o[9]=n[9]*i,o[10]=n[10]*i,o[11]=n[11]*i,o[12]=n[12]*i,o[13]=n[13]*i,o[14]=n[14]*i,o[15]=n[15]*i,o}const Un=fn;function an(n,i){const s=i??new h(16);return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15],s}const tn=an;function Ln(n,i){return Math.abs(n[0]-i[0])<T&&Math.abs(n[1]-i[1])<T&&Math.abs(n[2]-i[2])<T&&Math.abs(n[3]-i[3])<T&&Math.abs(n[4]-i[4])<T&&Math.abs(n[5]-i[5])<T&&Math.abs(n[6]-i[6])<T&&Math.abs(n[7]-i[7])<T&&Math.abs(n[8]-i[8])<T&&Math.abs(n[9]-i[9])<T&&Math.abs(n[10]-i[10])<T&&Math.abs(n[11]-i[11])<T&&Math.abs(n[12]-i[12])<T&&Math.abs(n[13]-i[13])<T&&Math.abs(n[14]-i[14])<T&&Math.abs(n[15]-i[15])<T}function wn(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]&&n[4]===i[4]&&n[5]===i[5]&&n[6]===i[6]&&n[7]===i[7]&&n[8]===i[8]&&n[9]===i[9]&&n[10]===i[10]&&n[11]===i[11]&&n[12]===i[12]&&n[13]===i[13]&&n[14]===i[14]&&n[15]===i[15]}function pn(n){const i=n??new h(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ln(n,i){const s=i??new h(16);if(s===n){let G;return G=n[1],n[1]=n[4],n[4]=G,G=n[2],n[2]=n[8],n[8]=G,G=n[3],n[3]=n[12],n[12]=G,G=n[6],n[6]=n[9],n[9]=G,G=n[7],n[7]=n[13],n[13]=G,G=n[11],n[11]=n[14],n[14]=G,s}const o=n[0*4+0],e=n[0*4+1],r=n[0*4+2],l=n[0*4+3],a=n[1*4+0],y=n[1*4+1],x=n[1*4+2],g=n[1*4+3],P=n[2*4+0],q=n[2*4+1],S=n[2*4+2],V=n[2*4+3],E=n[3*4+0],O=n[3*4+1],I=n[3*4+2],j=n[3*4+3];return s[0]=o,s[1]=a,s[2]=P,s[3]=E,s[4]=e,s[5]=y,s[6]=q,s[7]=O,s[8]=r,s[9]=x,s[10]=S,s[11]=I,s[12]=l,s[13]=g,s[14]=V,s[15]=j,s}function Sn(n,i){const s=i??new h(16),o=n[0*4+0],e=n[0*4+1],r=n[0*4+2],l=n[0*4+3],a=n[1*4+0],y=n[1*4+1],x=n[1*4+2],g=n[1*4+3],P=n[2*4+0],q=n[2*4+1],S=n[2*4+2],V=n[2*4+3],E=n[3*4+0],O=n[3*4+1],I=n[3*4+2],j=n[3*4+3],G=S*j,W=I*V,H=x*j,N=I*g,K=x*V,J=S*g,v=r*j,k=I*l,b=r*V,m=S*l,cn=r*g,on=x*l,rn=P*O,un=E*q,zn=a*O,An=E*y,qn=a*q,Hn=P*y,Nn=o*O,Qn=E*e,Kn=o*q,_n=P*e,Rn=o*y,Jn=a*e,mn=G*y+N*q+K*O-(W*y+H*q+J*O),Cn=W*e+v*q+m*O-(G*e+k*q+b*O),nt=H*e+k*y+cn*O-(N*e+v*y+on*O),tt=J*e+b*y+on*q-(K*e+m*y+cn*q),C=1/(o*mn+a*Cn+P*nt+E*tt);return s[0]=C*mn,s[1]=C*Cn,s[2]=C*nt,s[3]=C*tt,s[4]=C*(W*a+H*P+J*E-(G*a+N*P+K*E)),s[5]=C*(G*o+k*P+b*E-(W*o+v*P+m*E)),s[6]=C*(N*o+v*a+on*E-(H*o+k*a+cn*E)),s[7]=C*(K*o+m*a+cn*P-(J*o+b*a+on*P)),s[8]=C*(rn*g+An*V+qn*j-(un*g+zn*V+Hn*j)),s[9]=C*(un*l+Nn*V+_n*j-(rn*l+Qn*V+Kn*j)),s[10]=C*(zn*l+Qn*g+Rn*j-(An*l+Nn*g+Jn*j)),s[11]=C*(Hn*l+Kn*g+Jn*V-(qn*l+_n*g+Rn*V)),s[12]=C*(zn*S+Hn*I+un*x-(qn*I+rn*x+An*S)),s[13]=C*(Kn*I+rn*r+Qn*S-(Nn*S+_n*I+un*r)),s[14]=C*(Nn*x+Jn*I+An*r-(Rn*I+zn*r+Qn*x)),s[15]=C*(Rn*S+qn*r+_n*x-(Kn*x+Jn*S+Hn*r)),s}function Pn(n){const i=n[0],s=n[0*4+1],o=n[0*4+2],e=n[0*4+3],r=n[1*4+0],l=n[1*4+1],a=n[1*4+2],y=n[1*4+3],x=n[2*4+0],g=n[2*4+1],P=n[2*4+2],q=n[2*4+3],S=n[3*4+0],V=n[3*4+1],E=n[3*4+2],O=n[3*4+3],I=P*O,j=E*q,G=a*O,W=E*y,H=a*q,N=P*y,K=o*O,J=E*e,v=o*q,k=P*e,b=o*y,m=a*e,cn=I*l+W*g+H*V-(j*l+G*g+N*V),on=j*s+K*g+k*V-(I*s+J*g+v*V),rn=G*s+J*l+b*V-(W*s+K*l+m*V),un=N*s+v*l+m*g-(H*s+k*l+b*g);return i*cn+r*on+x*rn+S*un}const hn=Sn;function _(n,i,s){const o=s??new h(16),e=n[0],r=n[1],l=n[2],a=n[3],y=n[4],x=n[5],g=n[6],P=n[7],q=n[8],S=n[9],V=n[10],E=n[11],O=n[12],I=n[13],j=n[14],G=n[15],W=i[0],H=i[1],N=i[2],K=i[3],J=i[4],v=i[5],k=i[6],b=i[7],m=i[8],cn=i[9],on=i[10],rn=i[11],un=i[12],zn=i[13],An=i[14],qn=i[15];return o[0]=e*W+y*H+q*N+O*K,o[1]=r*W+x*H+S*N+I*K,o[2]=l*W+g*H+V*N+j*K,o[3]=a*W+P*H+E*N+G*K,o[4]=e*J+y*v+q*k+O*b,o[5]=r*J+x*v+S*k+I*b,o[6]=l*J+g*v+V*k+j*b,o[7]=a*J+P*v+E*k+G*b,o[8]=e*m+y*cn+q*on+O*rn,o[9]=r*m+x*cn+S*on+I*rn,o[10]=l*m+g*cn+V*on+j*rn,o[11]=a*m+P*cn+E*on+G*rn,o[12]=e*un+y*zn+q*An+O*qn,o[13]=r*un+x*zn+S*An+I*qn,o[14]=l*un+g*zn+V*An+j*qn,o[15]=a*un+P*zn+E*An+G*qn,o}const Vn=_;function Dn(n,i,s){const o=s??pn();return n!==o&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11]),o[12]=i[0],o[13]=i[1],o[14]=i[2],o[15]=1,o}function yn(n,i){const s=i??A.create();return s[0]=n[12],s[1]=n[13],s[2]=n[14],s}function On(n,i,s){const o=s??A.create(),e=i*4;return o[0]=n[e+0],o[1]=n[e+1],o[2]=n[e+2],o}function xn(n,i,s,o){const e=o===n?o:an(n,o),r=s*4;return e[r+0]=i[0],e[r+1]=i[1],e[r+2]=i[2],e}function gn(n,i){const s=i??A.create(),o=n[0],e=n[1],r=n[2],l=n[4],a=n[5],y=n[6],x=n[8],g=n[9],P=n[10];return s[0]=Math.sqrt(o*o+e*e+r*r),s[1]=Math.sqrt(l*l+a*a+y*y),s[2]=Math.sqrt(x*x+g*g+P*P),s}function Q(n,i,s,o,e){const r=e??new h(16),l=Math.tan(Math.PI*.5-.5*n);if(r[0]=l/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,Number.isFinite(o)){const a=1/(s-o);r[10]=o*a,r[14]=o*s*a}else r[10]=-1,r[14]=-s;return r}function Bn(n,i,s,o=1/0,e){const r=e??new h(16),l=1/Math.tan(n*.5);if(r[0]=l/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,o===1/0)r[10]=0,r[14]=s;else{const a=1/(o-s);r[10]=s*a,r[14]=o*s*a}return r}function en(n,i,s,o,e,r,l){const a=l??new h(16);return a[0]=2/(i-n),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(o-s),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1/(e-r),a[11]=0,a[12]=(i+n)/(n-i),a[13]=(o+s)/(s-o),a[14]=e/(e-r),a[15]=1,a}function Fn(n,i,s,o,e,r,l){const a=l??new h(16),y=i-n,x=o-s,g=e-r;return a[0]=2*e/y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*e/x,a[6]=0,a[7]=0,a[8]=(n+i)/y,a[9]=(o+s)/x,a[10]=r/g,a[11]=-1,a[12]=0,a[13]=0,a[14]=e*r/g,a[15]=0,a}function R(n,i,s,o,e,r=1/0,l){const a=l??new h(16),y=i-n,x=o-s;if(a[0]=2*e/y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*e/x,a[6]=0,a[7]=0,a[8]=(n+i)/y,a[9]=(o+s)/x,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,r===1/0)a[10]=0,a[14]=e;else{const g=1/(r-e);a[10]=e*g,a[14]=r*e*g}return a}const B=A.create(),F=A.create(),U=A.create();function sn(n,i,s,o){const e=o??new h(16);return A.normalize(A.subtract(i,n,U),U),A.normalize(A.cross(s,U,B),B),A.normalize(A.cross(U,B,F),F),e[0]=B[0],e[1]=B[1],e[2]=B[2],e[3]=0,e[4]=F[0],e[5]=F[1],e[6]=F[2],e[7]=0,e[8]=U[0],e[9]=U[1],e[10]=U[2],e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Gn(n,i,s,o){const e=o??new h(16);return A.normalize(A.subtract(n,i,U),U),A.normalize(A.cross(s,U,B),B),A.normalize(A.cross(U,B,F),F),e[0]=B[0],e[1]=B[1],e[2]=B[2],e[3]=0,e[4]=F[0],e[5]=F[1],e[6]=F[2],e[7]=0,e[8]=U[0],e[9]=U[1],e[10]=U[2],e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function X(n,i,s,o){const e=o??new h(16);return A.normalize(A.subtract(n,i,U),U),A.normalize(A.cross(s,U,B),B),A.normalize(A.cross(U,B,F),F),e[0]=B[0],e[1]=F[0],e[2]=U[0],e[3]=0,e[4]=B[1],e[5]=F[1],e[6]=U[1],e[7]=0,e[8]=B[2],e[9]=F[2],e[10]=U[2],e[11]=0,e[12]=-(B[0]*n[0]+B[1]*n[1]+B[2]*n[2]),e[13]=-(F[0]*n[0]+F[1]*n[1]+F[2]*n[2]),e[14]=-(U[0]*n[0]+U[1]*n[1]+U[2]*n[2]),e[15]=1,e}function Zn(n,i){const s=i??new h(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=n[0],s[13]=n[1],s[14]=n[2],s[15]=1,s}function dn(n,i,s){const o=s??new h(16),e=i[0],r=i[1],l=i[2],a=n[0],y=n[1],x=n[2],g=n[3],P=n[1*4+0],q=n[1*4+1],S=n[1*4+2],V=n[1*4+3],E=n[2*4+0],O=n[2*4+1],I=n[2*4+2],j=n[2*4+3],G=n[3*4+0],W=n[3*4+1],H=n[3*4+2],N=n[3*4+3];return n!==o&&(o[0]=a,o[1]=y,o[2]=x,o[3]=g,o[4]=P,o[5]=q,o[6]=S,o[7]=V,o[8]=E,o[9]=O,o[10]=I,o[11]=j),o[12]=a*e+P*r+E*l+G,o[13]=y*e+q*r+O*l+W,o[14]=x*e+S*r+I*l+H,o[15]=g*e+V*r+j*l+N,o}function jn(n,i){const s=i??new h(16),o=Math.cos(n),e=Math.sin(n);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=e,s[7]=0,s[8]=0,s[9]=-e,s[10]=o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Mn(n,i,s){const o=s??new h(16),e=n[4],r=n[5],l=n[6],a=n[7],y=n[8],x=n[9],g=n[10],P=n[11],q=Math.cos(i),S=Math.sin(i);return o[4]=q*e+S*y,o[5]=q*r+S*x,o[6]=q*l+S*g,o[7]=q*a+S*P,o[8]=q*y-S*e,o[9]=q*x-S*r,o[10]=q*g-S*l,o[11]=q*P-S*a,n!==o&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o}function In(n,i){const s=i??new h(16),o=Math.cos(n),e=Math.sin(n);return s[0]=o,s[1]=0,s[2]=-e,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=e,s[9]=0,s[10]=o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function En(n,i,s){const o=s??new h(16),e=n[0*4+0],r=n[0*4+1],l=n[0*4+2],a=n[0*4+3],y=n[2*4+0],x=n[2*4+1],g=n[2*4+2],P=n[2*4+3],q=Math.cos(i),S=Math.sin(i);return o[0]=q*e-S*y,o[1]=q*r-S*x,o[2]=q*l-S*g,o[3]=q*a-S*P,o[8]=q*y+S*e,o[9]=q*x+S*r,o[10]=q*g+S*l,o[11]=q*P+S*a,n!==o&&(o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o}function D(n,i){const s=i??new h(16),o=Math.cos(n),e=Math.sin(n);return s[0]=o,s[1]=e,s[2]=0,s[3]=0,s[4]=-e,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function z(n,i,s){const o=s??new h(16),e=n[0*4+0],r=n[0*4+1],l=n[0*4+2],a=n[0*4+3],y=n[1*4+0],x=n[1*4+1],g=n[1*4+2],P=n[1*4+3],q=Math.cos(i),S=Math.sin(i);return o[0]=q*e+S*y,o[1]=q*r+S*x,o[2]=q*l+S*g,o[3]=q*a+S*P,o[4]=q*y-S*e,o[5]=q*x-S*r,o[6]=q*g-S*l,o[7]=q*P-S*a,n!==o&&(o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o}function w(n,i,s){const o=s??new h(16);let e=n[0],r=n[1],l=n[2];const a=Math.sqrt(e*e+r*r+l*l);e/=a,r/=a,l/=a;const y=e*e,x=r*r,g=l*l,P=Math.cos(i),q=Math.sin(i),S=1-P;return o[0]=y+(1-y)*P,o[1]=e*r*S+l*q,o[2]=e*l*S-r*q,o[3]=0,o[4]=e*r*S-l*q,o[5]=x+(1-x)*P,o[6]=r*l*S+e*q,o[7]=0,o[8]=e*l*S+r*q,o[9]=r*l*S-e*q,o[10]=g+(1-g)*P,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}const t=w;function u(n,i,s,o){const e=o??new h(16);let r=i[0],l=i[1],a=i[2];const y=Math.sqrt(r*r+l*l+a*a);r/=y,l/=y,a/=y;const x=r*r,g=l*l,P=a*a,q=Math.cos(s),S=Math.sin(s),V=1-q,E=x+(1-x)*q,O=r*l*V+a*S,I=r*a*V-l*S,j=r*l*V-a*S,G=g+(1-g)*q,W=l*a*V+r*S,H=r*a*V+l*S,N=l*a*V-r*S,K=P+(1-P)*q,J=n[0],v=n[1],k=n[2],b=n[3],m=n[4],cn=n[5],on=n[6],rn=n[7],un=n[8],zn=n[9],An=n[10],qn=n[11];return e[0]=E*J+O*m+I*un,e[1]=E*v+O*cn+I*zn,e[2]=E*k+O*on+I*An,e[3]=E*b+O*rn+I*qn,e[4]=j*J+G*m+W*un,e[5]=j*v+G*cn+W*zn,e[6]=j*k+G*on+W*An,e[7]=j*b+G*rn+W*qn,e[8]=H*J+N*m+K*un,e[9]=H*v+N*cn+K*zn,e[10]=H*k+N*on+K*An,e[11]=H*b+N*rn+K*qn,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}const c=u;function f(n,i){const s=i??new h(16);return s[0]=n[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=n[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=n[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function d(n,i,s){const o=s??new h(16),e=i[0],r=i[1],l=i[2];return o[0]=e*n[0*4+0],o[1]=e*n[0*4+1],o[2]=e*n[0*4+2],o[3]=e*n[0*4+3],o[4]=r*n[1*4+0],o[5]=r*n[1*4+1],o[6]=r*n[1*4+2],o[7]=r*n[1*4+3],o[8]=l*n[2*4+0],o[9]=l*n[2*4+1],o[10]=l*n[2*4+2],o[11]=l*n[2*4+3],n!==o&&(o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o}function M(n,i){const s=i??new h(16);return s[0]=n,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=n,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=n,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function p(n,i,s){const o=s??new h(16);return o[0]=i*n[0*4+0],o[1]=i*n[0*4+1],o[2]=i*n[0*4+2],o[3]=i*n[0*4+3],o[4]=i*n[1*4+0],o[5]=i*n[1*4+1],o[6]=i*n[1*4+2],o[7]=i*n[1*4+3],o[8]=i*n[2*4+0],o[9]=i*n[2*4+1],o[10]=i*n[2*4+2],o[11]=i*n[2*4+3],n!==o&&(o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o}return{add:Tn,aim:sn,axisRotate:u,axisRotation:w,cameraAim:Gn,clone:tn,copy:an,create:$,determinant:Pn,equals:wn,equalsApproximately:Ln,fromMat3:L,fromQuat:Z,frustum:Fn,frustumReverseZ:R,getAxis:On,getScaling:gn,getTranslation:yn,identity:pn,inverse:Sn,invert:hn,lookAt:X,mul:Vn,mulScalar:Un,multiply:_,multiplyScalar:fn,negate:nn,ortho:en,perspective:Q,perspectiveReverseZ:Bn,rotate:c,rotateX:Mn,rotateY:En,rotateZ:z,rotation:t,rotationX:jn,rotationY:In,rotationZ:D,scale:d,scaling:f,set:Y,setAxis:xn,setTranslation:Dn,translate:dn,translation:Zn,transpose:ln,uniformScale:p,uniformScaling:M}}const ot=new Map;function Ot(h){let A=ot.get(h);return A||(A=Vt(h),ot.set(h,A)),A}function It(h){const A=vn(h);function $(D,z,w,t){const u=new h(4);return D!==void 0&&(u[0]=D,z!==void 0&&(u[1]=z,w!==void 0&&(u[2]=w,t!==void 0&&(u[3]=t)))),u}const Y=$;function L(D,z,w,t,u){const c=u??new h(4);return c[0]=D,c[1]=z,c[2]=w,c[3]=t,c}function Z(D,z,w){const t=w??new h(4),u=z*.5,c=Math.sin(u);return t[0]=c*D[0],t[1]=c*D[1],t[2]=c*D[2],t[3]=Math.cos(u),t}function nn(D,z){const w=z??A.create(3),t=Math.acos(D[3])*2,u=Math.sin(t*.5);return u>T?(w[0]=D[0]/u,w[1]=D[1]/u,w[2]=D[2]/u):(w[0]=1,w[1]=0,w[2]=0),{angle:t,axis:w}}function Tn(D,z){const w=Q(D,z);return Math.acos(2*w*w-1)}function fn(D,z,w){const t=w??new h(4),u=D[0],c=D[1],f=D[2],d=D[3],M=z[0],p=z[1],n=z[2],i=z[3];return t[0]=u*i+d*M+c*n-f*p,t[1]=c*i+d*p+f*M-u*n,t[2]=f*i+d*n+u*p-c*M,t[3]=d*i-u*M-c*p-f*n,t}const Un=fn;function an(D,z,w){const t=w??new h(4),u=z*.5,c=D[0],f=D[1],d=D[2],M=D[3],p=Math.sin(u),n=Math.cos(u);return t[0]=c*n+M*p,t[1]=f*n+d*p,t[2]=d*n-f*p,t[3]=M*n-c*p,t}function tn(D,z,w){const t=w??new h(4),u=z*.5,c=D[0],f=D[1],d=D[2],M=D[3],p=Math.sin(u),n=Math.cos(u);return t[0]=c*n-d*p,t[1]=f*n+M*p,t[2]=d*n+c*p,t[3]=M*n-f*p,t}function Ln(D,z,w){const t=w??new h(4),u=z*.5,c=D[0],f=D[1],d=D[2],M=D[3],p=Math.sin(u),n=Math.cos(u);return t[0]=c*n+f*p,t[1]=f*n-c*p,t[2]=d*n+M*p,t[3]=M*n-d*p,t}function wn(D,z,w,t){const u=t??new h(4),c=D[0],f=D[1],d=D[2],M=D[3];let p=z[0],n=z[1],i=z[2],s=z[3],o=c*p+f*n+d*i+M*s;o<0&&(o=-o,p=-p,n=-n,i=-i,s=-s);let e,r;if(1-o>T){const l=Math.acos(o),a=Math.sin(l);e=Math.sin((1-w)*l)/a,r=Math.sin(w*l)/a}else e=1-w,r=w;return u[0]=e*c+r*p,u[1]=e*f+r*n,u[2]=e*d+r*i,u[3]=e*M+r*s,u}function pn(D,z){const w=z??new h(4),t=D[0],u=D[1],c=D[2],f=D[3],d=t*t+u*u+c*c+f*f,M=d?1/d:0;return w[0]=-t*M,w[1]=-u*M,w[2]=-c*M,w[3]=f*M,w}function ln(D,z){const w=z??new h(4);return w[0]=-D[0],w[1]=-D[1],w[2]=-D[2],w[3]=D[3],w}function Sn(D,z){const w=z??new h(4),t=D[0]+D[5]+D[10];if(t>0){const u=Math.sqrt(t+1);w[3]=.5*u;const c=.5/u;w[0]=(D[6]-D[9])*c,w[1]=(D[8]-D[2])*c,w[2]=(D[1]-D[4])*c}else{let u=0;D[5]>D[0]&&(u=1),D[10]>D[u*4+u]&&(u=2);const c=(u+1)%3,f=(u+2)%3,d=Math.sqrt(D[u*4+u]-D[c*4+c]-D[f*4+f]+1);w[u]=.5*d;const M=.5/d;w[3]=(D[c*4+f]-D[f*4+c])*M,w[c]=(D[c*4+u]+D[u*4+c])*M,w[f]=(D[f*4+u]+D[u*4+f])*M}return w}function Pn(D,z,w,t,u){const c=u??new h(4),f=D*.5,d=z*.5,M=w*.5,p=Math.sin(f),n=Math.cos(f),i=Math.sin(d),s=Math.cos(d),o=Math.sin(M),e=Math.cos(M);switch(t){case"xyz":c[0]=p*s*e+n*i*o,c[1]=n*i*e-p*s*o,c[2]=n*s*o+p*i*e,c[3]=n*s*e-p*i*o;break;case"xzy":c[0]=p*s*e-n*i*o,c[1]=n*i*e-p*s*o,c[2]=n*s*o+p*i*e,c[3]=n*s*e+p*i*o;break;case"yxz":c[0]=p*s*e+n*i*o,c[1]=n*i*e-p*s*o,c[2]=n*s*o-p*i*e,c[3]=n*s*e+p*i*o;break;case"yzx":c[0]=p*s*e+n*i*o,c[1]=n*i*e+p*s*o,c[2]=n*s*o-p*i*e,c[3]=n*s*e-p*i*o;break;case"zxy":c[0]=p*s*e-n*i*o,c[1]=n*i*e+p*s*o,c[2]=n*s*o+p*i*e,c[3]=n*s*e-p*i*o;break;case"zyx":c[0]=p*s*e-n*i*o,c[1]=n*i*e+p*s*o,c[2]=n*s*o-p*i*e,c[3]=n*s*e+p*i*o;break;default:throw new Error(`Unknown rotation order: ${t}`)}return c}function hn(D,z){const w=z??new h(4);return w[0]=D[0],w[1]=D[1],w[2]=D[2],w[3]=D[3],w}const _=hn;function Vn(D,z,w){const t=w??new h(4);return t[0]=D[0]+z[0],t[1]=D[1]+z[1],t[2]=D[2]+z[2],t[3]=D[3]+z[3],t}function Dn(D,z,w){const t=w??new h(4);return t[0]=D[0]-z[0],t[1]=D[1]-z[1],t[2]=D[2]-z[2],t[3]=D[3]-z[3],t}const yn=Dn;function On(D,z,w){const t=w??new h(4);return t[0]=D[0]*z,t[1]=D[1]*z,t[2]=D[2]*z,t[3]=D[3]*z,t}const xn=On;function gn(D,z,w){const t=w??new h(4);return t[0]=D[0]/z,t[1]=D[1]/z,t[2]=D[2]/z,t[3]=D[3]/z,t}function Q(D,z){return D[0]*z[0]+D[1]*z[1]+D[2]*z[2]+D[3]*z[3]}function Bn(D,z,w,t){const u=t??new h(4);return u[0]=D[0]+w*(z[0]-D[0]),u[1]=D[1]+w*(z[1]-D[1]),u[2]=D[2]+w*(z[2]-D[2]),u[3]=D[3]+w*(z[3]-D[3]),u}function en(D){const z=D[0],w=D[1],t=D[2],u=D[3];return Math.sqrt(z*z+w*w+t*t+u*u)}const Fn=en;function R(D){const z=D[0],w=D[1],t=D[2],u=D[3];return z*z+w*w+t*t+u*u}const B=R;function F(D,z){const w=z??new h(4),t=D[0],u=D[1],c=D[2],f=D[3],d=Math.sqrt(t*t+u*u+c*c+f*f);return d>1e-5?(w[0]=t/d,w[1]=u/d,w[2]=c/d,w[3]=f/d):(w[0]=0,w[1]=0,w[2]=0,w[3]=1),w}function U(D,z){return Math.abs(D[0]-z[0])<T&&Math.abs(D[1]-z[1])<T&&Math.abs(D[2]-z[2])<T&&Math.abs(D[3]-z[3])<T}function sn(D,z){return D[0]===z[0]&&D[1]===z[1]&&D[2]===z[2]&&D[3]===z[3]}function Gn(D){const z=D??new h(4);return z[0]=0,z[1]=0,z[2]=0,z[3]=1,z}const X=A.create(),Zn=A.create(),dn=A.create();function jn(D,z,w){const t=w??new h(4),u=A.dot(D,z);return u<-.999999?(A.cross(Zn,D,X),A.len(X)<1e-6&&A.cross(dn,D,X),A.normalize(X,X),Z(X,Math.PI,t),t):u>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(A.cross(D,z,X),t[0]=X[0],t[1]=X[1],t[2]=X[2],t[3]=1+u,F(t,t))}const Mn=new h(4),In=new h(4);function En(D,z,w,t,u,c){const f=c??new h(4);return wn(D,t,u,Mn),wn(z,w,u,In),wn(Mn,In,2*u*(1-u),f),f}return{create:$,fromValues:Y,set:L,fromAxisAngle:Z,toAxisAngle:nn,angle:Tn,multiply:fn,mul:Un,rotateX:an,rotateY:tn,rotateZ:Ln,slerp:wn,inverse:pn,conjugate:ln,fromMat:Sn,fromEuler:Pn,copy:hn,clone:_,add:Vn,subtract:Dn,sub:yn,mulScalar:On,scale:xn,divScalar:gn,dot:Q,lerp:Bn,length:en,len:Fn,lengthSq:R,lenSq:B,normalize:F,equalsApproximately:U,equals:sn,identity:Gn,rotationTo:jn,sqlerp:En}}const rt=new Map;function Et(h){let A=rt.get(h);return A||(A=It(h),rt.set(h,A)),A}function $t(h){function A(w,t,u,c){const f=new h(4);return w!==void 0&&(f[0]=w,t!==void 0&&(f[1]=t,u!==void 0&&(f[2]=u,c!==void 0&&(f[3]=c)))),f}const $=A;function Y(w,t,u,c,f){const d=f??new h(4);return d[0]=w,d[1]=t,d[2]=u,d[3]=c,d}function L(w,t){const u=t??new h(4);return u[0]=Math.ceil(w[0]),u[1]=Math.ceil(w[1]),u[2]=Math.ceil(w[2]),u[3]=Math.ceil(w[3]),u}function Z(w,t){const u=t??new h(4);return u[0]=Math.floor(w[0]),u[1]=Math.floor(w[1]),u[2]=Math.floor(w[2]),u[3]=Math.floor(w[3]),u}function nn(w,t){const u=t??new h(4);return u[0]=Math.round(w[0]),u[1]=Math.round(w[1]),u[2]=Math.round(w[2]),u[3]=Math.round(w[3]),u}function Tn(w,t=0,u=1,c){const f=c??new h(4);return f[0]=Math.min(u,Math.max(t,w[0])),f[1]=Math.min(u,Math.max(t,w[1])),f[2]=Math.min(u,Math.max(t,w[2])),f[3]=Math.min(u,Math.max(t,w[3])),f}function fn(w,t,u){const c=u??new h(4);return c[0]=w[0]+t[0],c[1]=w[1]+t[1],c[2]=w[2]+t[2],c[3]=w[3]+t[3],c}function Un(w,t,u,c){const f=c??new h(4);return f[0]=w[0]+t[0]*u,f[1]=w[1]+t[1]*u,f[2]=w[2]+t[2]*u,f[3]=w[3]+t[3]*u,f}function an(w,t,u){const c=u??new h(4);return c[0]=w[0]-t[0],c[1]=w[1]-t[1],c[2]=w[2]-t[2],c[3]=w[3]-t[3],c}const tn=an;function Ln(w,t){return Math.abs(w[0]-t[0])<T&&Math.abs(w[1]-t[1])<T&&Math.abs(w[2]-t[2])<T&&Math.abs(w[3]-t[3])<T}function wn(w,t){return w[0]===t[0]&&w[1]===t[1]&&w[2]===t[2]&&w[3]===t[3]}function pn(w,t,u,c){const f=c??new h(4);return f[0]=w[0]+u*(t[0]-w[0]),f[1]=w[1]+u*(t[1]-w[1]),f[2]=w[2]+u*(t[2]-w[2]),f[3]=w[3]+u*(t[3]-w[3]),f}function ln(w,t,u,c){const f=c??new h(4);return f[0]=w[0]+u[0]*(t[0]-w[0]),f[1]=w[1]+u[1]*(t[1]-w[1]),f[2]=w[2]+u[2]*(t[2]-w[2]),f[3]=w[3]+u[3]*(t[3]-w[3]),f}function Sn(w,t,u){const c=u??new h(4);return c[0]=Math.max(w[0],t[0]),c[1]=Math.max(w[1],t[1]),c[2]=Math.max(w[2],t[2]),c[3]=Math.max(w[3],t[3]),c}function Pn(w,t,u){const c=u??new h(4);return c[0]=Math.min(w[0],t[0]),c[1]=Math.min(w[1],t[1]),c[2]=Math.min(w[2],t[2]),c[3]=Math.min(w[3],t[3]),c}function hn(w,t,u){const c=u??new h(4);return c[0]=w[0]*t,c[1]=w[1]*t,c[2]=w[2]*t,c[3]=w[3]*t,c}const _=hn;function Vn(w,t,u){const c=u??new h(4);return c[0]=w[0]/t,c[1]=w[1]/t,c[2]=w[2]/t,c[3]=w[3]/t,c}function Dn(w,t){const u=t??new h(4);return u[0]=1/w[0],u[1]=1/w[1],u[2]=1/w[2],u[3]=1/w[3],u}const yn=Dn;function On(w,t){return w[0]*t[0]+w[1]*t[1]+w[2]*t[2]+w[3]*t[3]}function xn(w){const t=w[0],u=w[1],c=w[2],f=w[3];return Math.sqrt(t*t+u*u+c*c+f*f)}const gn=xn;function Q(w){const t=w[0],u=w[1],c=w[2],f=w[3];return t*t+u*u+c*c+f*f}const Bn=Q;function en(w,t){const u=w[0]-t[0],c=w[1]-t[1],f=w[2]-t[2],d=w[3]-t[3];return Math.sqrt(u*u+c*c+f*f+d*d)}const Fn=en;function R(w,t){const u=w[0]-t[0],c=w[1]-t[1],f=w[2]-t[2],d=w[3]-t[3];return u*u+c*c+f*f+d*d}const B=R;function F(w,t){const u=t??new h(4),c=w[0],f=w[1],d=w[2],M=w[3],p=Math.sqrt(c*c+f*f+d*d+M*M);return p>1e-5?(u[0]=c/p,u[1]=f/p,u[2]=d/p,u[3]=M/p):(u[0]=0,u[1]=0,u[2]=0,u[3]=0),u}function U(w,t){const u=t??new h(4);return u[0]=-w[0],u[1]=-w[1],u[2]=-w[2],u[3]=-w[3],u}function sn(w,t){const u=t??new h(4);return u[0]=w[0],u[1]=w[1],u[2]=w[2],u[3]=w[3],u}const Gn=sn;function X(w,t,u){const c=u??new h(4);return c[0]=w[0]*t[0],c[1]=w[1]*t[1],c[2]=w[2]*t[2],c[3]=w[3]*t[3],c}const Zn=X;function dn(w,t,u){const c=u??new h(4);return c[0]=w[0]/t[0],c[1]=w[1]/t[1],c[2]=w[2]/t[2],c[3]=w[3]/t[3],c}const jn=dn;function Mn(w){const t=w??new h(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function In(w,t,u){const c=u??new h(4),f=w[0],d=w[1],M=w[2],p=w[3];return c[0]=t[0]*f+t[4]*d+t[8]*M+t[12]*p,c[1]=t[1]*f+t[5]*d+t[9]*M+t[13]*p,c[2]=t[2]*f+t[6]*d+t[10]*M+t[14]*p,c[3]=t[3]*f+t[7]*d+t[11]*M+t[15]*p,c}function En(w,t,u){const c=u??new h(4);return F(w,c),hn(c,t,c)}function D(w,t,u){const c=u??new h(4);return xn(w)>t?En(w,t,c):sn(w,c)}function z(w,t,u){const c=u??new h(4);return pn(w,t,.5,c)}return{create:A,fromValues:$,set:Y,ceil:L,floor:Z,round:nn,clamp:Tn,add:fn,addScaled:Un,subtract:an,sub:tn,equalsApproximately:Ln,equals:wn,lerp:pn,lerpV:ln,max:Sn,min:Pn,mulScalar:hn,scale:_,divScalar:Vn,inverse:Dn,invert:yn,dot:On,length:xn,len:gn,lengthSq:Q,lenSq:Bn,distance:en,dist:Fn,distanceSq:R,distSq:B,normalize:F,negate:U,copy:sn,clone:Gn,multiply:X,mul:Zn,divide:dn,div:jn,zero:Mn,transformMat4:In,setLength:En,truncate:D,midpoint:z}}const ut=new Map;function Tt(h){let A=ut.get(h);return A||(A=$t(h),ut.set(h,A)),A}function kn(h,A,$,Y,L,Z){return{mat3:Pt(h),mat4:Ot(A),quat:Et($),vec2:wt(Y),vec3:vn(L),vec4:Tt(Z)}}const{mat4:Wn,vec3:it}=kn(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);kn(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);kn(zt,Array,Array,Array,Array,Array);const Ut=4*10,Lt=0,Bt=4*8,Ft=36,lt=new Float32Array([1,-1,1,1,1,0,1,1,0,1,-1,-1,1,1,0,0,1,1,1,1,-1,-1,-1,1,0,0,0,1,1,0,1,-1,-1,1,1,0,0,1,0,0,1,-1,1,1,1,0,1,1,0,1,-1,-1,-1,1,0,0,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,-1,1,1,1,0,1,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,1,-1,1,1,1,0,1,0,0,1,1,1,1,1,1,1,1,0,1,1,-1,-1,1,1,0,0,1,1,0,-1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,-1,1,-1,1,0,1,0,1,0,0,-1,1,1,1,0,1,1,1,0,1,1,1,-1,1,1,1,0,1,1,0,-1,-1,1,1,0,0,1,1,0,1,-1,1,1,1,0,1,1,1,1,1,-1,1,-1,1,0,1,0,1,1,0,-1,-1,-1,1,0,0,0,1,0,0,-1,-1,1,1,0,0,1,1,0,1,-1,1,-1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,-1,1,1,1,0,1,1,1,1,1,-1,-1,1,1,0,0,1,1,1,0,-1,-1,1,1,0,0,1,1,1,0,1,-1,1,1,1,0,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,-1,-1,1,1,0,0,1,0,1,-1,-1,-1,1,0,0,0,1,1,1,-1,1,-1,1,0,1,0,1,1,0,1,1,-1,1,1,1,0,1,0,0,1,-1,-1,1,1,0,0,1,0,1,-1,1,-1,1,0,1,0,1,1,0]),Gt=`struct Uniforms {
  modelViewProjectionMatrix : mat4x4f,
}
@binding(0) @group(0) var<uniform> uniforms : Uniforms;

struct VertexOutput {
  @builtin(position) Position : vec4f,
  @location(0) fragUV : vec2f,
  @location(1) fragPosition: vec4f,
}

@vertex
fn main(
  @location(0) position : vec4f,
  @location(1) uv : vec2f
) -> VertexOutput {
  var output : VertexOutput;
  output.Position = uniforms.modelViewProjectionMatrix * position;
  output.fragUV = uv;
  output.fragPosition = 0.5 * (position + vec4(1.0, 1.0, 1.0, 1.0));
  return output;
}

`,Zt=`@fragment
fn main(
  @location(0) fragUV: vec2f,
  @location(1) fragPosition: vec4f
) -> @location(0) vec4f {
  return fragPosition;
}

`;globalThis.addEventListener("unhandledrejection",h=>{Yn(`unhandled promise rejection, please report a bug!
  https://github.com/webgpu/webgpu-samples/issues/new
${h.reason}`)});globalThis.addEventListener("error",h=>{Yn(`uncaught exception, please report a bug!
  https://github.com/webgpu/webgpu-samples/issues/new
${h.error}`)});function jt(h){"gpu"in navigator||Yn("navigator.gpu is not defined - WebGPU not available in this browser"),h||Yn("requestAdapter returned null - this sample can't run on this system")}function Xt(h,A){if(!A){jt(h),Yn("Unable to get a device for an unknown reason");return}A.lost.then($=>{Yn(`Device lost ("${$.reason}"):
${$.message}`)}),A.addEventListener("uncapturederror",$=>{Yn(`Uncaptured error:
${$.error.message}`)})}const Yn=(()=>{function h(){if(typeof document>"u")return{show(Z){console.error(Z)}};const $=document.createElement("dialog");$.close(),document.body.append($);const Y=document.createElement("pre");Y.style.whiteSpace="pre-wrap",$.append(Y);const L=document.createElement("button");return L.textContent="OK",L.onclick=()=>$.close(),$.append(L),{show(Z){$.open||(Y.textContent=Z,$.showModal())}}}let A;return $=>{throw A||(A=h()),A.show($),new Error($)}})(),Xn=document.querySelector("canvas"),ht=await navigator.gpu?.requestAdapter({featureLevel:"compatibility"}),$n=await ht?.requestDevice();Xt(ht,$n);const dt=Xn.getContext("webgpu"),Mt=window.devicePixelRatio;Xn.width=Xn.clientWidth*Mt;Xn.height=Xn.clientHeight*Mt;const pt=navigator.gpu.getPreferredCanvasFormat();dt.configure({device:$n,format:pt});const bn=$n.createBuffer({size:lt.byteLength,usage:GPUBufferUsage.VERTEX,mappedAtCreation:!0});new Float32Array(bn.getMappedRange()).set(lt);bn.unmap();const Dt=$n.createRenderPipeline({layout:"auto",vertex:{module:$n.createShaderModule({code:Gt}),buffers:[{arrayStride:Ut,attributes:[{shaderLocation:0,offset:Lt,format:"float32x4"},{shaderLocation:1,offset:Bt,format:"float32x2"}]}]},fragment:{module:$n.createShaderModule({code:Zt}),targets:[{format:pt}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}}),Yt=$n.createTexture({size:[Xn.width,Xn.height],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),Wt=4*16,yt=$n.createBuffer({size:Wt,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),Ht=$n.createBindGroup({layout:Dt.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:yt}}]}),ft={colorAttachments:[{view:void 0,clearValue:[.2,.2,.2,1],loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:Yt.createView(),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}},Nt=Xn.width/Xn.height,Qt=Wn.perspective(2*Math.PI/5,Nt,1,100),at=Wn.create();function Kt(){const h=Wn.identity();Wn.translate(h,it.fromValues(0,0,-4),h);const A=Date.now()/1e3;return Wn.rotate(h,it.fromValues(Math.sin(A),Math.cos(A),0),1,h),Wn.multiply(Qt,h,at),at}function xt(){const h=Kt();$n.queue.writeBuffer(yt,0,h.buffer,h.byteOffset,h.byteLength),ft.colorAttachments[0].view=dt.getCurrentTexture().createView();const A=$n.createCommandEncoder(),$=A.beginRenderPass(ft);$.setPipeline(Dt),$.setBindGroup(0,Ht),$.setVertexBuffer(0,bn),$.draw(Ft),$.end(),$n.queue.submit([A.finish()]),requestAnimationFrame(xt)}requestAnimationFrame(xt);
